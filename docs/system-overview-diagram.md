# üèóÔ∏è Vue d'Ensemble du Syst√®me GESFARM

## Diagramme Global des Acteurs et Modules

```mermaid
graph TB
    %% Acteurs
    subgraph "üë• Acteurs du Syst√®me"
        A[üë®‚Äçüíº Administrateur]
        V[üë®‚Äç‚öïÔ∏è V√©t√©rinaire]
        G[üë®‚Äçüíº Gestionnaire]
        S[üë®‚Äçüåæ Superviseur]
        O[üë∑ Ouvrier]
    end
    
    %% Modules Principaux
    subgraph "üì¶ Modules Principaux"
        M1[üîê Authentification & S√©curit√©]
        M2[üì¶ Gestion des Stocks]
        M3[üêî Gestion Avicole]
        M4[üêÑ Gestion Bovine]
        M5[üåæ Gestion des Cultures]
        M6[üó∫Ô∏è Cartographie]
        M7[üí∞ Gestion Financi√®re]
        M8[üîî Notifications]
        M9[üìà Analytics]
        M10[üè• Gestion V√©t√©rinaire]
        M11[üìã Gestion des T√¢ches]
        M12[üìä Rapports & Dashboard]
    end
    
    %% Base de donn√©es
    subgraph "üíæ Donn√©es"
        DB[(üóÑÔ∏è Base de Donn√©es MySQL)]
        CACHE[(‚ö° Cache Redis)]
        FILES[üìÅ Fichiers & Documents]
    end
    
    %% Services externes
    subgraph "üåê Services Externes"
        EMAIL[üìß Service Email]
        SMS[üì± Service SMS]
        MAPS[üó∫Ô∏è Services Cartographiques]
        WEATHER[üå§Ô∏è Donn√©es M√©t√©o]
    end
    
    %% Connexions Administrateur
    A --> M1
    A --> M7
    A --> M12
    A --> DB
    
    %% Connexions V√©t√©rinaire
    V --> M10
    V --> M8
    V --> M3
    V --> M4
    V --> M12
    
    %% Connexions Gestionnaire
    G --> M7
    G --> M9
    G --> M12
    G --> M11
    G --> M2
    
    %% Connexions Superviseur
    S --> M11
    S --> M3
    S --> M4
    S --> M5
    S --> M8
    
    %% Connexions Ouvrier
    O --> M2
    O --> M3
    O --> M4
    O --> M5
    O --> M11
    O --> M8
    
    %% Interconnexions des modules
    M1 --> M2
    M1 --> M3
    M1 --> M4
    M1 --> M5
    M1 --> M6
    M1 --> M7
    M1 --> M8
    M1 --> M9
    M1 --> M10
    M1 --> M11
    M1 --> M12
    
    M2 --> M7
    M3 --> M7
    M3 --> M10
    M4 --> M7
    M4 --> M10
    M5 --> M7
    M6 --> M3
    M6 --> M4
    M6 --> M5
    M7 --> M9
    M8 --> M9
    M9 --> M12
    M10 --> M8
    M11 --> M8
    
    %% Connexions aux donn√©es
    M1 --> DB
    M2 --> DB
    M3 --> DB
    M4 --> DB
    M5 --> DB
    M6 --> DB
    M7 --> DB
    M8 --> DB
    M9 --> DB
    M10 --> DB
    M11 --> DB
    M12 --> DB
    
    M1 --> CACHE
    M8 --> CACHE
    M9 --> CACHE
    M12 --> CACHE
    
    M2 --> FILES
    M3 --> FILES
    M4 --> FILES
    M5 --> FILES
    M10 --> FILES
    
    %% Connexions aux services externes
    M8 --> EMAIL
    M8 --> SMS
    M6 --> MAPS
    M5 --> WEATHER
    M3 --> WEATHER
    M4 --> WEATHER
    
    %% Styles
    classDef actor fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef module fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef data fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef external fill:#fff3e0,stroke:#e65100,stroke-width:2px
    
    class A,V,G,S,O actor
    class M1,M2,M3,M4,M5,M6,M7,M8,M9,M10,M11,M12 module
    class DB,CACHE,FILES data
    class EMAIL,SMS,MAPS,WEATHER external
```

---

## Flux de Donn√©es Principal

```mermaid
sequenceDiagram
    participant O as üë∑ Ouvrier
    participant S as üë®‚Äçüåæ Superviseur
    participant V as üë®‚Äç‚öïÔ∏è V√©t√©rinaire
    participant G as üë®‚Äçüíº Gestionnaire
    participant A as üë®‚Äçüíº Administrateur
    participant SYS as üñ•Ô∏è Syst√®me GESFARM
    participant DB as üóÑÔ∏è Base de Donn√©es
    participant NOTIF as üîî Notifications
    
    Note over O,NOTIF: Flux de Production Avicole
    
    O->>SYS: Enregistrer la ponte quotidienne
    SYS->>DB: Sauvegarder les donn√©es
    SYS->>NOTIF: V√©rifier les alertes
    NOTIF->>S: Notifier si anomalie d√©tect√©e
    
    S->>SYS: Valider les donn√©es
    SYS->>DB: Marquer comme valid√©
    
    V->>SYS: Planifier une vaccination
    SYS->>DB: Enregistrer le planning
    SYS->>NOTIF: Programmer les rappels
    NOTIF->>V: Rappel de vaccination
    
    G->>SYS: Consulter les analytics
    SYS->>DB: R√©cup√©rer les donn√©es
    SYS->>G: Retourner les analyses
    
    A->>SYS: Configurer les param√®tres
    SYS->>DB: Sauvegarder la configuration
    SYS->>NOTIF: Mettre √† jour les alertes
```

---

## Matrice des Permissions

| Module | Administrateur | Gestionnaire | V√©t√©rinaire | Superviseur | Ouvrier |
|--------|---------------|--------------|-------------|-------------|---------|
| **Authentification** | ‚úÖ CRUD | üëÅÔ∏è R | üëÅÔ∏è R | üëÅÔ∏è R | üëÅÔ∏è R |
| **Stocks** | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | ‚úÖ CRUD | ‚úÖ CRUD |
| **Avicole** | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD |
| **Bovine** | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD |
| **Cultures** | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | ‚úÖ CRUD | ‚úÖ CRUD |
| **Cartographie** | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | ‚úÖ CRUD | üëÅÔ∏è R |
| **Financier** | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | üëÅÔ∏è R | üëÅÔ∏è R |
| **Notifications** | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD |
| **Analytics** | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | üëÅÔ∏è R | üëÅÔ∏è R |
| **V√©t√©rinaire** | ‚úÖ CRUD | üëÅÔ∏è R | ‚úÖ CRUD | üëÅÔ∏è R | üëÅÔ∏è R |
| **T√¢ches** | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | ‚úÖ CRUD | ‚úÖ CRUD |
| **Rapports** | ‚úÖ CRUD | ‚úÖ CRUD | ‚úÖ CRUD | üëÅÔ∏è R | üëÅÔ∏è R |

**L√©gende :**
- ‚úÖ CRUD : Cr√©er, Lire, Modifier, Supprimer
- üëÅÔ∏è R : Lecture seule

---

## Points d'Int√©gration Critiques

```mermaid
graph LR
    subgraph "üîÑ Int√©grations Critiques"
        I1[üìä Analytics ‚Üî Finances]
        I2[üîî Notifications ‚Üî Tous modules]
        I3[üó∫Ô∏è Cartographie ‚Üî Production]
        I4[üè• V√©t√©rinaire ‚Üî Sant√© Animale]
        I5[üì¶ Stocks ‚Üî Production]
    end
    
    I1 --> I1a[ROI par activit√©]
    I1 --> I1b[Pr√©dictions financi√®res]
    
    I2 --> I2a[Alertes automatiques]
    I2 --> I2b[Rappels programm√©s]
    
    I3 --> I3a[Optimisation spatiale]
    I3 --> I3b[Planification des zones]
    
    I4 --> I4a[Suivi sanitaire]
    I4 --> I4b[Pr√©vention des maladies]
    
    I5 --> I5a[Gestion des intrants]
    I5 --> I5b[Optimisation des co√ªts]
```

---

## Architecture Technique

```mermaid
graph TB
    subgraph "üåê Frontend"
        WEB[üåç Interface Web]
        MOBILE[üì± Application Mobile]
        API_DOCS[üìö Documentation API]
    end
    
    subgraph "‚öôÔ∏è Backend"
        API[üîå API Laravel]
        AUTH[üîê Authentification]
        MIDDLEWARE[üõ°Ô∏è Middleware]
        CONTROLLERS[üéÆ Controllers]
        MODELS[üìä Models]
    end
    
    subgraph "üíæ Persistance"
        MYSQL[(üóÑÔ∏è MySQL)]
        REDIS[(‚ö° Redis)]
        FILES[üìÅ Storage]
    end
    
    subgraph "üê≥ Infrastructure"
        NGINX[üåê Nginx]
        PHP[üêò PHP-FPM]
        DOCKER[üê≥ Docker]
    end
    
    WEB --> API
    MOBILE --> API
    API_DOCS --> API
    
    API --> AUTH
    AUTH --> MIDDLEWARE
    MIDDLEWARE --> CONTROLLERS
    CONTROLLERS --> MODELS
    
    MODELS --> MYSQL
    MODELS --> REDIS
    MODELS --> FILES
    
    NGINX --> PHP
    PHP --> API
    DOCKER --> NGINX
    DOCKER --> PHP
    DOCKER --> MYSQL
    DOCKER --> REDIS
```

Cette architecture montre comment les diff√©rents acteurs interagissent avec le syst√®me GESFARM, avec des permissions et des responsabilit√©s bien d√©finies pour chaque r√¥le.
